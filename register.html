<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Nexa – AI-Powered Renovation Platform | Coming Soon</title>

    <!-- Basic SEO -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
        content="Nexa is a digital platform that connects clients with verified technicians and uses AI-powered diagnosis to bring reliability and transparency to renovation and facility management in Tunisia and beyond." />
    <meta name="keywords"
        content="Nexa, renovation platform, maintenance, facility management, AI-powered diagnosis, Tunisia, verified technicians" />
    <meta name="robots" content="index,follow" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://nexa.com.tn/" />

    <!-- Favicon (update paths to your real icons) -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Nexa – AI-Powered Renovation Platform | Coming Soon" />
    <meta property="og:description"
        content="Nexa is a digital platform that transforms renovation maintenance operations with AI-powered diagnosis, smart pricing and verified technicians." />
    <meta property="og:url" content="https://nexa.com.tn/" />
    <meta property="og:image" content="https://nexa.com.tn/og-image.jpg" />
    <meta property="og:site_name" content="Nexa" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Nexa – AI-Powered Renovation Platform | Coming Soon" />
    <meta name="twitter:description"
        content="Coming soon: Nexa, the digital platform for renovation and facility management with AI-powered diagnosis and verified technicians." />
    <meta name="twitter:image" content="https://nexa.com.tn/og-image.jpg" />

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

    <style>
        :root {
            --yellow-bg: #ffd700;
            --yellow-soft: #ffdb5a;
            --text-main: #000;
            --text-muted: #3c3c3c;
            --footer-text: #4a4a4a;
        }
        body {
            font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .form-wrap {
            width: 100%;
            max-width: 980px;
            margin: 56px auto 0;
            padding: 0 12px;
        }

        .form-head h2{
            text-align: center;
            font-size: 47px;
            font-weight: 600;
            margin-bottom: 0px;
        }
        .form-head span{
            color: var(--yellow-bg);
        }
        .form-head p{
            font-size: 16px;
            text-align: center;
            color: var(--text-muted);
        }

        .nexa-form {
            margin: auto;
            margin-top: 100px;
            width: calc(100% - 40px);
            max-width: 1000px;
        }

        .nexa-form .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
        }

        .nexa-form .row-1 {
            display: grid;
            grid-template-columns: 1fr;
            gap: 18px;
        }

        .nexa-form label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            margin: 0 0 8px;
        }

        .req {
            color: #d11;
            margin-left: 2px;
        }

        .nexa-form .field {
            margin-bottom: 16px;
        }

        .nexa-form input[type="text"],
        .nexa-form input[type="email"],
        .nexa-form input[type="tel"],
        .nexa-form select,
        .nexa-form textarea {
            width: 100%;
            height: 42px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            background: #f6f7f8;
            border-radius: 6px;
            padding: 0 12px;
            font-size: 13px;
            outline: none;
            box-sizing: border-box;
        }

        .nexa-form textarea {
            height: 90px;
            padding: 10px 12px;
            resize: vertical;
        }

        .nexa-form input:focus,
        .nexa-form select:focus,
        .nexa-form textarea:focus {
            border-color: rgba(0, 0, 0, 0.25);
            background: #fff;
        }

        .notice {
            background: #fff7c9;
            border: 1px solid rgba(0, 0, 0, 0.08);
            padding: 12px 14px;
            border-radius: 6px;
            font-size: 12px;
            color: #333;
        }

        .block-title {
            font-size: 13px;
            font-weight: 700;
            margin-top: 10px;
            margin-bottom: 8px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding-left: 2px;
        }

        .opt {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
            color: #222;
        }

        .opt input {
            transform: translateY(1px);
        }

        .hr {
            height: 1px;
            background: rgba(0, 0, 0, 0.08);
            margin: 14px 0;
        }

        .footer-note {
            background: #fff7c9;
            border: 1px solid rgba(0, 0, 0, 0.08);
            padding: 14px;
            border-radius: 6px;
            font-size: 12px;
            color: #333;
        }

        .consent {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 12px;
            font-size: 12px;
        }

        .submit-row {
            display: flex;
            justify-content: flex-start;
            margin-top: 16px;
        }

        .btn-submit {
            background: var(--yellow-bg);
            border: none;
            height: 44px;
            padding: 0 34px;
            border-radius: 999px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 10px 18px rgba(0, 0, 0, 0.12);
        }

        .form-status {
            margin-top: 10px;
            font-size: 12px;
            color: #222;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 820px) {
            .nexa-form {
                padding: 18px;
            }

            .nexa-form .row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="form-wrap" id="join">
        <div class="form-head">
            <h2>Rejoignez la communauté <span class="nexa">Nexa</span></h2>
            <p>Un écosystème structuré pour la maintenance, la rénovation et une exécution fiable.</p>
        </div>

        <form id="nexaForm" class="nexa-form">
            <!-- ROLE -->
            <div class="field">
                <div class="label">Qui êtes-vous ? <span class="req">*</span></div>
                <select name="role" id="role" required>
                    <option value="">-- Select --</option>
                    <option value="technician">Technicien</option>
                    <option value="client">Client</option>
                    <option value="enterprise">Entreprise</option>
                </select>
            </div>
            <div class="notice">
                Ces informations serviront à créer votre compte Nexa lors du lancement de la plateforme.
            </div>


            <!-- COMMON FIELDS -->
            <div class="grid-2">
                <div class="field">
                    <div class="label">Nom et prénom <span class="req">*</span></div>
                    <input type="text" name="full_name" placeholder="tapez ici" required />
                </div>

                <div class="field">
                    <div class="label">Email <span class="req">*</span></div>
                    <input type="email" name="email" placeholder="tapez ici" required />
                </div>
            </div>

            <div class="field">
                <div class="label">Numéro de téléphone (WhatsApp de préférence) <span class="req">*</span></div>
                <input type="tel" name="phone_whatsapp" placeholder="tapez ici" required />
            </div>

            <div class="field">
                <div class="label">Numéro de téléphone (secondaire) <span class="req">*</span></div>
                <input type="tel" name="phone_alt" placeholder="tapez ici" required />
            </div>

            <div class="grid-2">
                <div class="field">
                    <div class="label">Ville / Région <span class="req">*</span></div>
                    <select name="city_region" required>
                        <option value="">-Select-</option>
                        <option value="Tunis">Tunis</option>
                        <option value="Ariana">Ariana</option>
                        <option value="Ben Arous">Ben Arous</option>
                        <option value="Sousse">Sousse</option>
                        <option value="Sfax">Sfax</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>

                <div class="field">
                    <div class="label">Langue préférée <span class="req">*</span></div>
                    <select name="language" required>
                        <option value="">-Select-</option>
                        <option value="Français">Français</option>
                        <option value="Arabe">Arabe</option>
                        <option value="Anglais">Anglais</option>
                    </select>
                </div>
            </div>

            <!-- ===================== TECHNICIAN SECTION ===================== -->
            <section id="sectionTechnician" class="hidden">
                <div class="group-title">Métier principal : <span class="req">*</span></div>
                <div class="options">
                    <label class="opt"><input type="radio" name="tech_main_trade" value="Électricien">
                        Électricien</label>
                    <label class="opt"><input type="radio" name="tech_main_trade" value="Plombier"> Plombier</label>
                    <label class="opt"><input type="radio" name="tech_main_trade" value="Climatisation / Chauffage">
                        Climatisation / Chauffage</label>
                    <label class="opt"><input type="radio" name="tech_main_trade" value="Peintre"> Peintre</label>
                    <label class="opt"><input type="radio" name="tech_main_trade" value="Maçon"> Maçon</label>
                    <label class="opt"><input type="radio" name="tech_main_trade" value="Autre"> Autre</label>
                </div>

                <div class="group-title">Années d’expérience : <span class="req">*</span></div>
                <div class="options">
                    <label class="opt"><input type="radio" name="tech_experience" value="0-2"> 0–2 ans</label>
                    <label class="opt"><input type="radio" name="tech_experience" value="3-5"> 3–5 ans</label>
                    <label class="opt"><input type="radio" name="tech_experience" value="6-10"> 6–10 ans</label>
                    <label class="opt"><input type="radio" name="tech_experience" value="10+"> +10 ans</label>
                </div>

                <div class="group-title">Statut actuel : <span class="req">*</span></div>
                <div class="options">
                    <label class="opt"><input type="radio" name="tech_status" value="Indépendant"> Indépendant</label>
                    <label class="opt"><input type="radio" name="tech_status" value="Entreprise"> Entreprise</label>
                    <label class="opt"><input type="radio" name="tech_status" value="Technicien salarié"> Technicien
                        salarié</label>
                </div>

                <div class="grid-2">
                    <div class="field" id="techCompanyWrap" class="hidden">
                        <div class="label">Nom de l’entreprise <span class="req">*</span></div>
                        <input type="text" name="tech_company_name" placeholder="tapez ici" />
                    </div>

                    <div class="field">
                        <div class="label">Ville(s) / zone(s) d’intervention <span class="req">*</span></div>
                        <input type="text" name="tech_zones" placeholder="ex: Tunis, Ariana, Ben Arous..." />
                    </div>
                </div>

                <div class="group-title">Êtes-vous prêt à travailler avec :</div>
                <div class="options">
                    <label class="opt"><input type="checkbox" name="tech_ready_clear_prices" value="1"> Des prix
                        clairs</label>
                    <label class="opt"><input type="checkbox" name="tech_ready_documented" value="1"> Des interventions
                        documentées</label>
                    <label class="opt"><input type="checkbox" name="tech_ready_reviews" value="1"> Des avis
                        clients</label>
                    <label class="opt"><input type="checkbox" name="tech_ready_tracking" value="1"> Un suivi
                        digital</label>
                </div>
            </section>

            <!-- ===================== CLIENT SECTION ===================== -->
            <section id="sectionClient" class="hidden">
                <div class="group-title">Vous êtes : <span class="req">*</span></div>
                <div class="options">
                    <label class="opt"><input type="radio" name="client_type" value="Propriétaire"> Propriétaire</label>
                    <label class="opt"><input type="radio" name="client_type" value="Locataire"> Locataire</label>
                </div>

                <div class="group-title">Services recherchés : <span class="req">*</span></div>
                <div class="options">
                    <label class="opt"><input type="radio" name="client_service" value="Rénovation"> Rénovation</label>
                    <label class="opt"><input type="radio" name="client_service" value="Maintenance générale">
                        Maintenance générale</label>
                    <label class="opt"><input type="radio" name="client_service" value="Je ne sais pas encore"> Je ne
                        sais pas encore</label>
                </div>

                <div class="group-title">Comment gérez-vous vos interventions aujourd’hui ? <span class="req">*</span>
                </div>
                <div class="options">
                    <label class="opt"><input type="radio" name="client_how_manage" value="Appels / WhatsApp"> Appels /
                        WhatsApp</label>
                    <label class="opt"><input type="radio" name="client_how_manage" value="Bouche-à-oreille">
                        Bouche-à-oreille</label>
                    <label class="opt"><input type="radio" name="client_how_manage"
                            value="Difficulté à trouver des techniciens fiables"> Difficulté à trouver des techniciens
                        fiables</label>
                </div>

                <div class="group-title">Avez-vous un projet de rénovation dans les 6 prochains mois ?</div>
                <div class="options">
                    <label class="opt"><input type="radio" name="client_project_6m" value="Oui"> Oui</label>
                    <label class="opt"><input type="radio" name="client_project_6m" value="Non"> Non</label>
                    <label class="opt"><input type="radio" name="client_project_6m"
                            value="Difficulté à trouver des techniciens fiables"> Difficulté à trouver des techniciens
                        fiables</label>
                </div>
            </section>

            <!-- ===================== ENTERPRISE SECTION ===================== -->
            <section id="sectionEnterprise" class="hidden">
                <div class="grid-2">
                    <div class="field">
                        <div class="label">Nom de l’entreprise <span class="req">*</span></div>
                        <input type="text" name="ent_company_name" placeholder="tapez ici" />
                    </div>

                    <div class="field">
                        <div class="label">Type d’activité <span class="req">*</span></div>
                        <select name="ent_activity_type">
                            <option value="">-Select-</option>
                            <option value="Retail">Retail</option>
                            <option value="Bureaux">Bureaux</option>
                            <option value="Industrie">Industrie</option>
                            <option value="Hôtellerie">Hôtellerie</option>
                            <option value="Immobilier">Immobilier</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="field">
                        <div class="label">Nom de l’entreprise (2) <span class="req">*</span></div>
                        <input type="text" name="ent_company_name_2" placeholder="tapez ici" />
                    </div>

                    <div class="field">
                        <div class="label">Type d’activité (2) <span class="req">*</span></div>
                        <select name="ent_activity_type_2">
                            <option value="">-Select-</option>
                            <option value="Retail">Retail</option>
                            <option value="Bureaux">Bureaux</option>
                            <option value="Industrie">Industrie</option>
                            <option value="Hôtellerie">Hôtellerie</option>
                            <option value="Immobilier">Immobilier</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="field">
                        <div class="group-title">Nombre de sites : <span class="req">*</span></div>
                        <div class="options">
                            <label class="opt"><input type="radio" name="ent_sites" value="1"> 1</label>
                            <label class="opt"><input type="radio" name="ent_sites" value="2 à 5"> 2 à 5</label>
                            <label class="opt"><input type="radio" name="ent_sites" value="6 à 20"> 6 à 20</label>
                            <label class="opt"><input type="radio" name="ent_sites" value="20+"> 20+</label>
                        </div>
                    </div>

                    <div class="field">
                        <div class="group-title">Nombre de utilisateurs : <span class="req">*</span></div>
                        <div class="options">
                            <label class="opt"><input type="radio" name="ent_users" value="1"> 1</label>
                            <label class="opt"><input type="radio" name="ent_users" value="2 à 5"> 2 à 5</label>
                            <label class="opt"><input type="radio" name="ent_users" value="6 à 20"> 6 à 20</label>
                            <label class="opt"><input type="radio" name="ent_users" value="20+"> 20+</label>
                        </div>
                    </div>
                </div>

                <div class="group-title">Besoins principaux : <span class="req">*</span></div>
                <div class="options">
                    <label class="opt"><input type="radio" name="ent_needs" value="Maintenance préventive"> Maintenance
                        préventive</label>
                    <label class="opt"><input type="radio" name="ent_needs" value="Interventions urgentes">
                        Interventions urgentes</label>
                    <label class="opt"><input type="radio" name="ent_needs" value="Rénovation / aménagement"> Rénovation
                        / aménagement</label>
                    <label class="opt"><input type="radio" name="ent_needs" value="Gestion des techniciens"> Gestion des
                        techniciens</label>
                    <label class="opt"><input type="radio" name="ent_needs" value="Suivi & reporting"> Suivi &
                        reporting</label>
                </div>

                <div class="group-title">Comment gérez-vous vos interventions aujourd’hui ? <span class="req">*</span>
                </div>
                <div class="options">
                    <label class="opt"><input type="radio" name="ent_how_manage" value="Appels / WhatsApp"> Appels /
                        WhatsApp</label>
                    <label class="opt"><input type="radio" name="ent_how_manage" value="Bouche-à-oreille">
                        Bouche-à-oreille</label>
                </div>
            </section>

            <!-- FOOTER NOTE + CONSENT -->
            <div class="footer-note">
                Merci d’avoir rejoint la communauté Nexa.<br />
                Nous construisons un écosystème structuré, transparent et fiable pour la maintenance et la
                rénovation.<br />
                Vous serez parmi les premiers à accéder à la plateforme dès son lancement.
            </div>

            <label class="consent">
                <input type="checkbox" name="wants_updates" value="1" />
                Je souhaite recevoir les mises à jour et l’accès anticipé à Nexa
            </label>

            <div class="btn-row">
                <button class="btn" type="submit">Envoyer</button>
            </div>

            <div id="formStatus" class="status"></div>
        </form>
    </div>


    <script>
        const form = document.getElementById("nexaForm");
        const statusEl = document.getElementById("formStatus");

        const roleEl = document.getElementById("role");
        const sectionTechnician = document.getElementById("sectionTechnician");
        const sectionClient = document.getElementById("sectionClient");
        const sectionEnterprise = document.getElementById("sectionEnterprise");

        // Technician company conditional
        const techCompanyWrap = document.getElementById("techCompanyWrap");

        function setRequired(selector, required) {
            const el = form.querySelector(selector);
            if (!el) return;
            el.required = required;
            if (!required) el.value = "";
        }

        function clearRadio(name) {
            form.querySelectorAll(`input[name="${name}"]`).forEach(i => i.checked = false);
        }

        function setSection(role) {
            sectionTechnician.classList.add("hidden");
            sectionClient.classList.add("hidden");
            sectionEnterprise.classList.add("hidden");

            // remove required from role-specific inputs
            [
                // technician
                "tech_main_trade", "tech_experience", "tech_status",
                // client
                "client_type", "client_service", "client_how_manage", "client_project_6m",
                // enterprise
                "ent_sites", "ent_users", "ent_needs", "ent_how_manage"
            ].forEach(clearRadio);

            // role-specific required toggles
            setRequired('input[name="tech_zones"]', false);
            setRequired('input[name="tech_company_name"]', false);
            setRequired('input[name="ent_company_name"]', false);
            setRequired('select[name="ent_activity_type"]', false);
            setRequired('input[name="ent_company_name_2"]', false);
            setRequired('select[name="ent_activity_type_2"]', false);

            if (role === "technician") {
                sectionTechnician.classList.remove("hidden");
                // force required (we do this by checking one input per group on submit)
                setRequired('input[name="tech_zones"]', true);
            }
            if (role === "client") {
                sectionClient.classList.remove("hidden");
            }
            if (role === "enterprise") {
                sectionEnterprise.classList.remove("hidden");
                setRequired('input[name="ent_company_name"]', true);
                setRequired('select[name="ent_activity_type"]', true);
                setRequired('input[name="ent_company_name_2"]', true);
                setRequired('select[name="ent_activity_type_2"]', true);
            }
        }

        roleEl.addEventListener("change", () => setSection(roleEl.value));

        // Tech status -> company name required
        document.addEventListener("change", (e) => {
            if (e.target.name !== "tech_status") return;
            const needsCompany = (e.target.value === "Entreprise" || e.target.value === "Technicien salarié");
            techCompanyWrap.classList.toggle("hidden", !needsCompany);
            setRequired('input[name="tech_company_name"]', needsCompany);
        });

        function requireOneChecked(name, label) {
            const any = [...form.querySelectorAll(`input[name="${name}"]`)].some(i => i.checked);
            if (!any) throw new Error(`Veuillez sélectionner: ${label}`);
        }

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            statusEl.textContent = "Envoi en cours...";

            try {
                const role = roleEl.value;
                if (!role) throw new Error("Veuillez sélectionner: Qui êtes-vous ?");

                // role validation
                if (role === "technician") {
                    requireOneChecked("tech_main_trade", "Métier principal");
                    requireOneChecked("tech_experience", "Années d’expérience");
                    requireOneChecked("tech_status", "Statut actuel");
                    // company name required is handled by required attribute when needed
                }
                if (role === "client") {
                    requireOneChecked("client_type", "Vous êtes");
                    requireOneChecked("client_service", "Services recherchés");
                    requireOneChecked("client_how_manage", "Comment gérez-vous vos interventions aujourd’hui");
                    // project optional in screenshot, keep optional
                }
                if (role === "enterprise") {
                    requireOneChecked("ent_sites", "Nombre de sites");
                    requireOneChecked("ent_users", "Nombre de utilisateurs");
                    requireOneChecked("ent_needs", "Besoins principaux");
                    requireOneChecked("ent_how_manage", "Comment gérez-vous vos interventions aujourd’hui");
                }

                const fd = new FormData(form);

                // Build a single payload (best practice: store as JSON in DB)
                const payload = Object.fromEntries(fd.entries());

                // Convert checkboxes to booleans
                payload.wants_updates = fd.get("wants_updates") === "1";
                payload.tech_ready_clear_prices = fd.get("tech_ready_clear_prices") === "1";
                payload.tech_ready_documented = fd.get("tech_ready_documented") === "1";
                payload.tech_ready_reviews = fd.get("tech_ready_reviews") === "1";
                payload.tech_ready_tracking = fd.get("tech_ready_tracking") === "1";

                const r = await fetch("/.netlify/functions/nexa-signup", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload),
                });

                if (!r.ok) throw new Error(await r.text());

                statusEl.textContent = "Merci ! Votre inscription a été envoyée.";
                form.reset();
                setSection(""); // hide all
                techCompanyWrap.classList.add("hidden");
            } catch (err) {
                statusEl.textContent = "Erreur: " + (err?.message || "Réessayez.");
            }
        });

        // initial
        setSection("");
    </script>

</body>

</html>